# 🔐 FHEVM 机密投票系统 - 前端dApp

## 📋 项目概述

这是一个基于FHEVM（全同态加密虚拟机）的机密投票系统前端应用，提供了完整的投票管理功能，包括投票者注册、投票选项管理、投票过程和结果查看。

## ✨ 主要功能

### 👨‍💼 管理员功能
- **注册投票者**: 单个或批量注册投票者
- **管理投票选项**: 添加投票选项
- **控制投票流程**: 开始和结束投票
- **权限管理**: 授权查看者查看结果

### 🗳️ 投票者功能
- **查看投票选项**: 实时显示所有可用选项
- **参与投票**: 使用FHE加密技术进行机密投票
- **查看状态**: 检查投票状态和个人投票记录

### 📊 结果查看
- **加密结果**: 查看加密的投票结果
- **权限控制**: 只有授权用户才能查看结果

## 🚀 快速开始

### 1. 环境要求
- 现代浏览器（Chrome, Firefox, Safari, Edge）
- MetaMask钱包扩展
- 以太坊网络连接

### 2. 安装步骤

1. **克隆项目**
   ```bash
   git clone <repository-url>
   cd zama-fhevm-project/frontend
   ```

2. **启动本地服务器**
   ```bash
   # 使用Python
   python -m http.server 8080
   
   # 或使用Node.js
   npx http-server -p 8080
   
   # 或使用Live Server (VS Code扩展)
   ```

3. **访问应用**
   打开浏览器访问: `http://localhost:8080`

### 3. 配置MetaMask

1. **安装MetaMask**
   - 访问 [MetaMask官网](https://metamask.io/)
   - 安装浏览器扩展

2. **添加网络**
   - 打开MetaMask
   - 点击网络选择器
   - 添加自定义网络:
     ```
     网络名称: Sepolia
     RPC URL: https://eth-sepolia.g.alchemy.com/v2/ilcfO47WJ1EYbxU-iuB3A
     链ID: 11155111
     货币符号: ETH
     ```

3. **获取测试ETH**
   - 访问 [Sepolia水龙头](https://sepoliafaucet.com/)
   - 输入您的钱包地址
   - 获取测试ETH

## 📖 使用指南

### 1. 连接钱包
1. 点击"连接钱包"按钮
2. 在MetaMask中确认连接
3. 等待连接成功

### 2. 管理员操作

#### 注册投票者
1. 在"注册投票者"区域输入投票者地址
2. 点击"注册"按钮
3. 在MetaMask中确认交易

#### 批量注册
1. 在文本框中输入多个地址（每行一个）
2. 点击"批量注册"按钮
3. 确认交易

#### 添加投票选项
1. 输入选项名称
2. 点击"添加"按钮
3. 确认交易

#### 开始投票
1. 设置投票持续时间（秒）
2. 点击"开始投票"按钮
3. 确认交易

### 3. 投票者操作

#### 参与投票
1. 查看可用投票选项
2. 从下拉菜单选择选项
3. 点击"投票"按钮
4. 在MetaMask中确认交易

### 4. 查看结果

#### 获取投票结果
1. 确保投票已结束
2. 点击"获取结果"按钮
3. 查看加密的投票结果

## 🔧 技术架构

### 前端技术栈
- **HTML5**: 页面结构
- **CSS3**: 现代化样式和动画
- **JavaScript (ES6+)**: 交互逻辑
- **Ethers.js**: 以太坊交互
- **FHE.js**: 全同态加密支持

### 智能合约集成
- **合约地址**: `0xD3fB8f4E71A47c5Cdb01A43C2B77f120700e6c5D`
- **网络**: Ethereum Sepolia测试网
- **ABI**: 包含所有必要函数接口

### 安全特性
- **FHE加密**: 投票数据完全加密
- **权限控制**: 基于角色的访问控制
- **交易确认**: 所有操作都需要区块链确认

## 🎨 界面特性

### 现代化设计
- **渐变背景**: 美观的紫色渐变
- **毛玻璃效果**: 现代化的卡片设计
- **响应式布局**: 支持各种屏幕尺寸
- **动画效果**: 流畅的交互动画

### 用户体验
- **实时状态更新**: 自动刷新系统状态
- **操作日志**: 详细的操作记录
- **加载提示**: 清晰的操作反馈
- **错误处理**: 友好的错误提示

## 🔍 故障排除

### 常见问题

1. **MetaMask未安装**
   - 解决方案: 安装MetaMask浏览器扩展

2. **网络连接失败**
   - 检查网络配置
   - 确保RPC端点可用

3. **交易失败**
   - 检查账户余额
   - 确认网络gas设置
   - 查看错误日志

4. **合约调用失败**
   - 确认合约地址正确
   - 检查用户权限
   - 验证函数参数

### 调试技巧
- 打开浏览器开发者工具
- 查看控制台日志
- 检查网络请求
- 验证MetaMask连接状态

## 📱 移动端支持

应用完全支持移动设备：
- 响应式设计适配各种屏幕
- 触摸友好的界面元素
- 优化的移动端交互

## 🔗 相关链接

- **合约地址**: [Sepolia Etherscan](https://sepolia.etherscan.io/address/0xD3fB8f4E71A47c5Cdb01A43C2B77f120700e6c5D)
- **Zama文档**: [FHEVM文档](https://docs.fhevm.io/)
- **Ethers.js**: [官方文档](https://docs.ethers.io/)

## 📄 许可证

本项目遵循MIT许可证。

---

**注意**: 这是一个演示应用，用于展示FHEVM技术的实际应用。在生产环境中使用前，请进行充分的安全审计和测试。 